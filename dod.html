<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Between Duty and Defiance</title>
  <style>
    body {
      background-color: #1a1a1a;
      color: #f0f0f0;
      font-family: 'Georgia', serif;
      margin: 0;
      padding: 20px;
    }
    h1, h2 {
      color: #aa0000;
    }
    .container {
      max-width: 700px;
      margin: auto;
    }
    .choices button {
      background-color: #aa0000;
      border: none;
      color: white;
      padding: 10px;
      margin: 5px 0;
      width: 100%;
      font-size: 1rem;
      border-radius: 5px;
      cursor: pointer;
    }
    .choices button:hover {
      background-color: #cc0000;
    }
    .stats {
      display: flex;
      justify-content: space-between;
      margin: 20px 0;
    }
    .stat {
      flex: 1;
      margin: 0 5px;
    }
    .bar {
      height: 10px;
      background-color: #444;
      margin-top: 5px;
    }
    .fill {
      height: 10px;
      background-color: #aa0000;
    }
    .emoji {
      font-size: 1.5rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Between Duty and Defiance</h1>
    <div id="game"></div>
  </div>

  <script>
    const names = {
      boy: ["Friedrich", "Heinrich", "Otto", "Klaus", "Werner"],
      girl: ["Liesel", "Greta", "Inge", "Helga", "Anneliese"]
    };

    let gender = '';
    let name = '';
    let suspicion = 0;
    let morality = 50;
    let privilege = 50;

    function startGame() {
      document.getElementById("game").innerHTML = `
        <h2>Choose Your Character</h2>
        <div class="choices">
          <button onclick="chooseGender('boy')">Boy (Hitler Youth)</button>
          <button onclick="chooseGender('girl')">Girl (League of German Girls)</button>
        </div>
      `;
    }

    function chooseGender(g) {
      gender = g;
      name = names[gender][Math.floor(Math.random() * names[gender].length)];
      showIntro();
    }

    function showIntro() {
      document.getElementById("game").innerHTML = `
        <h2>Welcome, ${name}</h2>
        <p>Berlin, 1933. You are 15 years old, a member of the ${gender === 'boy' ? 'Hitler Youth' : 'League of German Girls'}.</p>
        <p>Your world is changing fast. What kind of person will you become?</p>
        <button onclick="event1()">Begin</button>
      `;
    }

    function updateStatsDisplay() {
      return `
        <div class="stats">
          <div class="stat">Suspicion üò®<div class="bar"><div class="fill" style="width: ${suspicion}%"></div></div></div>
          <div class="stat">Morality ‚ù§Ô∏è<div class="bar"><div class="fill" style="width: ${morality}%"></div></div></div>
          <div class="stat">Privilege üõ°Ô∏è<div class="bar"><div class="fill" style="width: ${privilege}%"></div></div></div>
        </div>
      `;
    }

    function event1() {
      document.getElementById("game").innerHTML = `
        <h2>Event 1 ‚Äì Reichstag Fire (Feb 1933)</h2>
        <p>Your teacher orders an essay praising Hitler after the Reichstag Fire.</p>
        ${updateStatsDisplay()}
        <div class="choices">
          <button onclick="chooseEvent1(1)">Write defending democracy</button>
          <button onclick="chooseEvent1(2)">Hand in plain summary</button>
          <button onclick="chooseEvent1(3)">Write pro-Hitler essay & read aloud</button>
        </div>
      `;
    }

    function chooseEvent1(choice) {
      if (choice === 1) {
        suspicion += 15;
        morality += 10;
        privilege -= 10;
      } else if (choice === 2) {
        suspicion += 5;
        morality -= 5;
      } else if (choice === 3) {
        suspicion -= 10;
        morality -= 10;
        privilege += 15;
      }
      event2();
    }

    function event2() {
      // Placeholder for the next event logic
      document.getElementById("game").innerHTML = `
        <h2>Event 2 ‚Äì Coming Soon</h2>
        ${updateStatsDisplay()}
        <p>The story continues...</p>
      `;
    }

    startGame();
  </script>
</body>
</html>
